# –ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è –û—Ü—ñ–Ω–∫–∏ –ì—Ä–∞—Ñ–∞ Grynya

> –¶–µ–π —Ä–µ—Å—É—Ä—Å —î Grynya-–∞–¥–∞–ø—Ç–æ–≤–∞–Ω–æ—é –≤–µ—Ä—Å—ñ—î—é generic `references/methodology.md`.
> –î–ª—è —à–∏—Ä—à–æ—ó —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ—ó –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∏ –¥–∏–≤. `references/methodology.md`.

## –î–ª—è –ß–æ–≥–æ

–ì—Ä–∞—Ñ Grynya ‚Äî —Ü–µ –≥—Ä–∞—Ñ –ø–∞–º'—è—Ç—ñ –∞–≥–µ–Ω—Ç–∞, –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ FalkorDB (Cypher). –í—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î —Å–µ—Å—ñ—ó, –∑–∞–ø–∏—Ç–∏, –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∞–Ω–∞–ª—ñ–∑–∏, —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω—ñ –∑–≤'—è–∑–∫–∏. –û—Ü—ñ–Ω–∫–∞ —è–∫–æ—Å—Ç—ñ –≥—Ä–∞—Ñ–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞, —â–æ–±:

- –í–∏—è–≤–∏—Ç–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ñ –∑–≤'—è–∑–∫–∏ (—Ä–æ–∑—Ä–∏–≤–∏ —É —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–º—É –ª–∞–Ω—Ü—é–∑—ñ `[:NEXT]`)
- –ó–Ω–∞–π—Ç–∏ –Ω–µ–ø–æ–≤–Ω—ñ –≤—É–∑–ª–∏ (–≤—ñ–¥—Å—É—Ç–Ω—ñ–π `full_text` —É Response, –ø–æ—Ä–æ–∂–Ω—ñ Analysis)
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ö–µ–º–∏ (`grynya-schema.md`)
- –û—Ü—ñ–Ω–∏—Ç–∏ —è–∫—ñ—Å—Ç—å Entity Extraction (—á–∏ –≤–∏—Ç—è–≥–∞—é—Ç—å—Å—è –≤—Å—ñ –∑–Ω–∞—á—É—â—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ?)

## –ß–µ–∫-–õ–∏—Å—Ç –û—Ü—ñ–Ω–∫–∏ (Quick Health Check)

–í–∏–∫–æ–Ω–∞–π —Ü—ñ Cypher-–∑–∞–ø–∏—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:

### 1. –¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –•—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ –õ–∞–Ω—Ü—é–≥–∞

```cypher
// –°–µ—Å—ñ—ó –±–µ–∑ NEXT-–∑–≤'—è–∑–∫—É –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó (–∫—Ä—ñ–º –ø–µ—Ä—à–æ—ó)
MATCH (s:Session) WHERE NOT EXISTS { MATCH ()-[:NEXT]->(s) }
AND s.id <> 'session_001'
RETURN s.id, s.topic
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤—Å—ñ —Å–µ—Å—ñ—ó –∑'—î–¥–Ω–∞–Ω—ñ).

### 2. –°–µ—Å—ñ—ó –±–µ–∑ LAST_EVENT

```cypher
MATCH (s:Session) WHERE NOT EXISTS { MATCH (s)-[:LAST_EVENT]->() }
RETURN s.id, s.status
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

### 3. Response –±–µ–∑ full_text

```cypher
MATCH (r:Response) WHERE r.full_text IS NULL OR r.full_text = ''
RETURN r.id, r.name
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ö–æ–∂–µ–Ω Response –ü–û–í–ò–ù–ï–ù –º–∞—Ç–∏ full_text.

### 4. –ü–æ—Ä—É—à–µ–Ω–Ω—è –¢—Ä—ñ–∞–¥–∏ (Request -> Response -> Analysis)

```cypher
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∂–æ—Ä—Å—Ç–∫–µ –∑–∞–ø–µ—Ä–µ—á–µ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—É –∑–∞–º—ñ—Å—Ç—å OPTIONAL MATCH
MATCH (req:Request) WHERE NOT (req)<-[:RESPONDS_TO]-(:Response)<-[:ANALYZES]-(:Analysis)
RETURN req.id
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ü—Ä–∞–≤–∏–ª–æ –¢—Ä—ñ–∞–¥–∏).

### 5. Orphan Entities (–°–∏—Ä–æ—Ç–∏)

```cypher
MATCH (e:Entity) WHERE NOT (e)<-[:MENTIONS]-() AND NOT ()-[:INVOLVES]->(e)
RETURN e.id, e.name
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ú—ñ–Ω—ñ–º—É–º —Å–∏—Ä—ñ—Ç. –ö–æ–∂–Ω–∞ Entity –º–∞—î –±—É—Ç–∏ –∑–≤'—è–∑–∞–Ω–∞ —Ö–æ—á–∞ –± –∑ –æ–¥–Ω—ñ—î—é —Å–µ—Å—ñ—î—é. 
*(–ü—Ä–∏–º—ñ—Ç–∫–∞: –ü–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è–π –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∏—Ö –∑–≤'—è–∑–∫—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `(e)-[:INVOLVED_IN]->()` —á–∏ `(e)-[:MENTIONS]->()`, —è–∫—ñ –º–æ–≥–ª–∏ —É—Ç–≤–æ—Ä–∏—Ç–∏—Å—è –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ —Å—Ç–∞—Ä–∏—Ö –±–∞–≥—ñ–≤ –ø—Ä–æ—Ç–æ–∫–æ–ª—É).*

### 6. –î—É–±–ª—ñ–∫–∞—Ç–∏ Entity

```cypher
MATCH (e:Entity)
WITH e.name AS name, COLLECT(e.id) AS ids, COUNT(*) AS cnt
WHERE cnt > 1
RETURN name, ids, cnt
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –î—É–±–ª—ñ–∫–∞—Ç–∏ ‚Äî –æ–∑–Ω–∞–∫–∞ –ø–æ–≥–∞–Ω–æ–≥–æ Entity Resolution.

### 7. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –°—Ö–µ–º–∏

```cypher
// –í—É–∑–ª–∏ –±–µ–∑ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç—É id
MATCH (n) WHERE n.id IS NULL
AND (n:Session OR n:Request OR n:Response OR n:Feedback OR n:Analysis OR n:Entity)
RETURN labels(n), n.name
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:** –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

### 8. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ì—Ä–∞—Ñ–∞

```cypher
MATCH (n) RETURN labels(n)[0] AS type, COUNT(n) AS count
ORDER BY count DESC
```

## –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –§–æ—Ä–º—É–ª–∞ | –ü–æ—Ä–æ–≥–æ–≤–µ –ó–Ω–∞—á–µ–Ω–Ω—è |
|---------|---------|-------------------|
| –¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –ª–∞–Ω—Ü—é–≥–∞ | `1 - (—Ä–æ–∑—ñ—Ä–≤–∞–Ω—ñ NEXT) / (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ—Å—ñ–π - 1)` | ‚â• 0.95 |
| –ü–æ–≤–Ω–æ—Ç–∞ Response | `Response –∑ full_text / –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å Response` | = 1.0 |
| –ü–æ–∫—Ä–∏—Ç—Ç—è Analysis | `Response –∑ Analysis / –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å Response` | = 1.0 |
| Entity Resolution | `1 - (–¥—É–±–ª—ñ–∫–∞—Ç–∏ Entity) / (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å Entity)` | ‚â• 0.90 |
| Orphan Rate | `1 - (—Å–∏—Ä–æ—Ç–∏ Entity) / (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å Entity)` | ‚â• 0.85 |

## –†—ñ–≤–Ω—ñ –û—Ü—ñ–Ω–∫–∏

| –†—ñ–≤–µ–Ω—å | –û—Ü—ñ–Ω–∫–∞ | –û–ø–∏—Å |
|--------|--------|------|
| üü¢ –ó–¥–æ—Ä–æ–≤–∏–π | 4.0-5.0 | –í—Å—ñ –º–µ—Ç—Ä–∏–∫–∏ –≤ –Ω–æ—Ä–º—ñ, –≥—Ä–∞—Ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
| üü° –ü–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏ | 2.5-3.9 | –Ñ –ø—Ä–æ–±–ª–µ–º–∏, –∞–ª–µ –≥—Ä–∞—Ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π |
| üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π | 1.0-2.4 | –ì—Ä–∞—Ñ –º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏, –ø–æ—Ç—Ä—ñ–±–Ω–µ –≤—Ç—Ä—É—á–∞–Ω–Ω—è |

## –ó–≤'—è–∑–æ–∫ –∑—ñ –°—Ö–µ–º–æ—é

> –ï—Ç–∞–ª–æ–Ω–Ω–∞ —Å—Ö–µ–º–∞: `c:\Antigarvity_workspace\.agent\skills\memory-manager\grynya-schema.md`
>
> –í—Å—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∏—â–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –∞—Ç—Ä–∏–±—É—Ç–∞–º —Ç–∞ –∑–≤'—è–∑–∫–∞–º –∑ —Ü—ñ—î—ó —Å—Ö–µ–º–∏.
> –ü—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ö–µ–º–∏ ‚Äî –æ–Ω–æ–≤–∏—Ç–∏ —Ü–µ–π —Ñ–∞–π–ª.

## –î–æ–¥–∞—Ç–∫–æ–≤–µ –ß–∏—Ç–∞–Ω–Ω—è

- `references/methodology.md` ‚Äî –ø–æ–≤–Ω–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –±–∞–∑–∞ –∑ KG Completeness, Retrieval Quality, Hallucination Rate —Ç–æ—â–æ
- `evaluators/rubric_evaluation.json` ‚Äî —Ä—É–±—Ä–∏–∫–∞ –æ—Ü—ñ–Ω–∫–∏ (0-5 –±–∞–ª—ñ–≤)
